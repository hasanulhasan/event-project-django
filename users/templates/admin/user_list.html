{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User List</title>
    <link rel="stylesheet" href="{% static 'css/output.css' %}" />
  </head>
  <body>
    <div class="mt-10 mx-auto w-2/3 border p-6 rounded-lg shadow-lg">
      <h2 class="font-bold text-center text-2xl mb-3">User List</h2>
      {% if messages %} {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">{{ message }}</div>
      {% endfor %} {% endif %}
      <div class="overflow-x-auto">
        <table class="min-w-full bg-white shadow-md rounded-lg overflow-hidden">
          <thead class="bg-gray-100">
            <tr>
              <th
                class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
              >
                Number
              </th>
              <th
                class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
              >
                Username
              </th>
              <th
                class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
              >
                Email
              </th>
              <th
                class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
              >
                User ID
              </th>
              <th
                class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
              >
                Current Role
              </th>
              <th
                class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
              >
                Action
              </th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200">
            <!-- Example static data -->
            {% for user in users %}
            <tr class="hover:bg-gray-50">
              <td class="px-4 py-4 whitespace-nowrap">{{forloop.counter}}</td>
              <td class="px-4 py-4 whitespace-nowrap">
                {{user.first_name}} {{user.last_name}}
              </td>
              <td class="px-4 py-4 whitespace-nowrap">{{user.email}}</td>
              <td class="px-4 py-4 whitespace-nowrap">{{user.id}}</td>
              <td class="px-4 py-4 whitespace-nowrap">
                {{user.groups.first.name}}
              </td>
              <td class="px-4 py-4 whitespace-nowrap">
                <a
                  href="{% url 'assign-role' user.id %}"
                  class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"
                >
                  Change Role
                </a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
